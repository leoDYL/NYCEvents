<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Data sources | NYC Events Analysis</title>
  <meta name="description" content="Chapter 2 Data sources | NYC Events Analysis" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Data sources | NYC Events Analysis" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Data sources | NYC Events Analysis" />
  
  
  

<meta name="author" content="Leo Du, Hao Li" />


<meta name="date" content="2021-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="data-transformation.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">NYC Events Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#nyc-parks-events-data"><i class="fa fa-check"></i><b>2.1</b> NYC Parks Events Data</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#nyc-parks-crimes-data"><i class="fa fa-check"></i><b>2.2</b> NYC Parks Crimes Data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#transformation-of-nyc-park-events-data"><i class="fa fa-check"></i><b>3.1</b> Transformation of NYC Park Events Data</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#transformation-of-nyc-parks-crimes-data"><i class="fa fa-check"></i><b>3.2</b> Transformation of NYC Parks Crimes Data</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#transformation-for-interactive-components"><i class="fa fa-check"></i><b>3.3</b> Transformation for interactive components</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#missing-values-by-individual-tables"><i class="fa fa-check"></i><b>4.1</b> Missing Values By Individual Tables</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="missing-values.html"><a href="missing-values.html#missing-values-for-main-events-listing-table"><i class="fa fa-check"></i><b>4.1.1</b> Missing Values for Main Events Listing Table</a></li>
<li class="chapter" data-level="4.1.2" data-path="missing-values.html"><a href="missing-values.html#missing-values-for-auxiliary-tables"><i class="fa fa-check"></i><b>4.1.2</b> Missing Values for Auxiliary Tables</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#missing-values-for-joined-data-table"><i class="fa fa-check"></i><b>4.2</b> Missing Values for Joined Data Table</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="missing-values.html"><a href="missing-values.html#using-full-outer-joins"><i class="fa fa-check"></i><b>4.2.1</b> Using Full Outer Joins</a></li>
<li class="chapter" data-level="4.2.2" data-path="missing-values.html"><a href="missing-values.html#using-left-outer-joins"><i class="fa fa-check"></i><b>4.2.2</b> Using Left Outer Joins</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="missing-values.html"><a href="missing-values.html#top-categories-with-missing-organizer"><i class="fa fa-check"></i><b>4.3</b> Top Categories with Missing Organizer</a></li>
<li class="chapter" data-level="4.4" data-path="missing-values.html"><a href="missing-values.html#missing-values-for-crimes-in-parks"><i class="fa fa-check"></i><b>4.4</b> Missing Values for Crimes in Parks</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#events-and-parks-analysis"><i class="fa fa-check"></i><b>5.1</b> Events and Parks Analysis</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#most-diverse-park"><i class="fa fa-check"></i><b>5.1.1</b> Most Diverse Park</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#organizer-preferences-on-categories-and-locations"><i class="fa fa-check"></i><b>5.1.2</b> Organizer Preferences on Categories and Locations</a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#cost-borough-duration-and-time-of-events"><i class="fa fa-check"></i><b>5.1.3</b> Cost, Borough, Duration, and Time of Events</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#timeseries-analysis"><i class="fa fa-check"></i><b>5.2</b> Timeseries Analysis</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#timeseries-analysis-on-nyc-parks-events"><i class="fa fa-check"></i><b>5.2.1</b> Timeseries Analysis on NYC Parks Events</a></li>
<li class="chapter" data-level="5.2.2" data-path="results.html"><a href="results.html#timeseries-analysis-on-event-categories"><i class="fa fa-check"></i><b>5.2.2</b> Timeseries Analysis on Event Categories</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#crimes-in-parks"><i class="fa fa-check"></i><b>5.3</b> Crimes in Parks</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#crimes-in-parks-overview"><i class="fa fa-check"></i><b>5.3.1</b> Crimes in Parks Overview</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#crime-timeseries-analysis"><i class="fa fa-check"></i><b>5.3.2</b> Crime Timeseries Analysis</a></li>
<li class="chapter" data-level="5.3.3" data-path="results.html"><a href="results.html#crimes-in-parks-and-events-in-parks"><i class="fa fa-check"></i><b>5.3.3</b> Crimes in parks and events in parks</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#spatial-analysis"><i class="fa fa-check"></i><b>5.4</b> Spatial Analysis</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="results.html"><a href="results.html#spatial-analysis-of-events-by-organizer"><i class="fa fa-check"></i><b>5.4.1</b> Spatial Analysis of Events By Organizer</a></li>
<li class="chapter" data-level="5.4.2" data-path="results.html"><a href="results.html#spatial-analysis-on-events-start-time-of-the-day"><i class="fa fa-check"></i><b>5.4.2</b> Spatial Analysis on Events Start Time of the Day</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a>
<ul>
<li class="chapter" data-level="6.1" data-path="interactive-component.html"><a href="interactive-component.html#monthly-event-count-time-series-by-category"><i class="fa fa-check"></i><b>6.1</b> Monthly Event Count Time-series by Category</a></li>
<li class="chapter" data-level="6.2" data-path="interactive-component.html"><a href="interactive-component.html#monthly-event-count-by-most-active-organizers"><i class="fa fa-check"></i><b>6.2</b> Monthly Event Count by Most Active Organizers</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a>
<ul>
<li class="chapter" data-level="7.1" data-path="conclusion.html"><a href="conclusion.html#limitations"><i class="fa fa-check"></i><b>7.1</b> Limitations</a></li>
<li class="chapter" data-level="7.2" data-path="conclusion.html"><a href="conclusion.html#future-directions"><i class="fa fa-check"></i><b>7.2</b> Future Directions</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NYC Events Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-sources" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> Data sources</h1>
<p>The data we use for this project consist of two datasets. NYC Parks Events data and NYC Parks Crimes data. NYC Parks Events dataset is acquired through the NYC OpenData api. The data is collected by the Department of Parks and Recreation of the City of New York. The NYC Parks Crime dataset is acquired through the NYC.gov api. The data is provided by the New York Police Department.</p>
<p>You can use our prepared script at <a href="https://github.com/leoDYL/NYCEvents/blob/main/scripts/download_raw_data.R" class="uri">https://github.com/leoDYL/NYCEvents/blob/main/scripts/download_raw_data.R</a> to download all the source raw data we used in this project. This script will create a <code>data/raw_data</code> directory under the project root (please run this scrip under the project root) and download all the source data files we used under this directory.</p>
<div id="nyc-parks-events-data" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> NYC Parks Events Data</h2>
<p>In the event listing datasets, which contains data from 2013 to 2019, we can take a look at the diversity of parks from the organizer, event category and time’s perspectives. Based on the number of events hosted at different time and organized by different organizers, we can study on the liveliness of the parks. Other than that, since the datasets include detailed time information for each event from year to minute, we can study the time patterns that are presented in the data. Below, we introduce each data file for the park events.</p>
<p><a href="https://data.cityofnewyork.us/City-Government/NYC-Parks-Events-Listing-Event-Listing/fudw-fgrp">NYC Parks Events Listing – Event Listing</a>, which can be <a href="https://data.cityofnewyork.us/api/views/fudw-fgrp/rows.csv?accessType=DOWNLOAD">downloaded as a CSV file</a>. (74.9k rows, 15 columns) This is the main file that contains a table where each row contains the basic information of an event, which includes the following:</p>
<table>
<caption><span id="tab:unnamed-chunk-4">Table 2.1: </span>Data Schema for Park Events Listing Table</caption>
<thead>
<tr class="header">
<th align="left">Column Name</th>
<th align="left">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">event_id</td>
<td align="left">Number</td>
</tr>
<tr class="even">
<td align="left">title</td>
<td align="left">Text</td>
</tr>
<tr class="odd">
<td align="left">date</td>
<td align="left">Date &amp; Time</td>
</tr>
<tr class="even">
<td align="left">start_time</td>
<td align="left">Text</td>
</tr>
<tr class="odd">
<td align="left">end_time</td>
<td align="left">Text</td>
</tr>
<tr class="even">
<td align="left">location_description</td>
<td align="left">Text</td>
</tr>
<tr class="odd">
<td align="left">description</td>
<td align="left">Text</td>
</tr>
<tr class="even">
<td align="left">snippet</td>
<td align="left">Text</td>
</tr>
<tr class="odd">
<td align="left">phone</td>
<td align="left">Text</td>
</tr>
<tr class="even">
<td align="left">email</td>
<td align="left">Text</td>
</tr>
<tr class="odd">
<td align="left">cost_free</td>
<td align="left">Number</td>
</tr>
<tr class="even">
<td align="left">cost_description</td>
<td align="left">Text</td>
</tr>
<tr class="odd">
<td align="left">must_see</td>
<td align="left">Number</td>
</tr>
<tr class="even">
<td align="left">url</td>
<td align="left">Text</td>
</tr>
<tr class="odd">
<td align="left">notice</td>
<td align="left">Number</td>
</tr>
</tbody>
</table>
<p><a href="https://data.cityofnewyork.us/City-Government/NYC-Parks-Events-Listing-Event-Categories/xtsw-fqvh">NYC Parks Events Listing – Event Categories</a>, which can be <a href="https://data.cityofnewyork.us/api/views/xtsw-fqvh/rows.csv?accessType=DOWNLOAD">downloaded as a CSV file</a> (270k rows, 2 columns) This table contains records to describe the category of events. There could be more categories associated with one event.</p>
<table>
<caption><span id="tab:unnamed-chunk-5">Table 2.2: </span>Data Schema for Park Events Category Table</caption>
<thead>
<tr class="header">
<th align="left">Column Name</th>
<th align="left">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">event_id</td>
<td align="left">Text</td>
</tr>
<tr class="even">
<td align="left">name</td>
<td align="left">Text</td>
</tr>
</tbody>
</table>
<p><a href="https://data.cityofnewyork.us/City-Government/NYC-Parks-Events-Listing-Event-Locations/cpcm-i88g">NYC Parks Events Listing – Event Locations</a>, which can be <a href="https://data.cityofnewyork.us/api/views/cpcm-i88g/rows.csv?accessType=DOWNLOAD">downloaded as a CSV file</a> (95.8k rows, 9 columns) This table contains the location information for events. Each event can take place at multiple locations.</p>
<table>
<caption><span id="tab:unnamed-chunk-6">Table 2.3: </span>Data Schema for Park Events Location Table</caption>
<thead>
<tr class="header">
<th align="left">Column Name</th>
<th align="left">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">event_id</td>
<td align="left">Text</td>
</tr>
<tr class="even">
<td align="left">name</td>
<td align="left">Text</td>
</tr>
<tr class="odd">
<td align="left">park_id</td>
<td align="left">Text</td>
</tr>
<tr class="even">
<td align="left">lat</td>
<td align="left">Number</td>
</tr>
<tr class="odd">
<td align="left">long</td>
<td align="left">Number</td>
</tr>
<tr class="even">
<td align="left">address</td>
<td align="left">Text</td>
</tr>
<tr class="odd">
<td align="left">zip</td>
<td align="left">Text</td>
</tr>
<tr class="even">
<td align="left">borough</td>
<td align="left">Text</td>
</tr>
<tr class="odd">
<td align="left">accessible</td>
<td align="left">Text</td>
</tr>
</tbody>
</table>
<p><a href="https://data.cityofnewyork.us/City-Government/NYC-Parks-Events-Listing-Event-Organizers/jk6k-yab4">NYC Parks Events Listing – Event Organizers</a>, which can be <a href="https://data.cityofnewyork.us/api/views/jk6k-yab4/rows.csv?accessType=DOWNLOAD">downloaded as a CSV file</a> (97k rows, 2 columns) This table contains the organizers for events. Each event can be organized by multiple organizers.</p>
<table>
<caption><span id="tab:unnamed-chunk-7">Table 2.4: </span>Data Schema for Park Events Organizers Table</caption>
<thead>
<tr class="header">
<th align="left">Column Name</th>
<th align="left">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">event_id</td>
<td align="left">Text</td>
</tr>
<tr class="even">
<td align="left">event_organizer</td>
<td align="left">Text</td>
</tr>
</tbody>
</table>
</div>
<div id="nyc-parks-crimes-data" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> NYC Parks Crimes Data</h2>
<p>In the NYC Parks Crime dataset, we look into the location and seasonal characteristics of NYC park crimes through the number of events happening in each borough and each quarter of the year.</p>
<p><a href="https://www1.nyc.gov/site/nypd/stats/crime-statistics/park-crime-stats.page">NYC Parks Crime Statistics</a> This data source contains multiple data files for each quarter from 2014 to the third quarter of 2021. After preprocessing and concatenation, it contains 32312 rows and 13 columns Below is the schema of the dataset. The details of the processing is mentioned in <a href="data-transformation.html#transformation-of-nyc-parks-crimes-data">Transformation of NYC Parks Crimes Data</a>.</p>
<table>
<caption><span id="tab:unnamed-chunk-8">Table 2.5: </span>Data Schema for Park Events Organizers Table</caption>
<thead>
<tr class="header">
<th align="left">Column Name</th>
<th align="left">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">PARK</td>
<td align="left">Text</td>
</tr>
<tr class="even">
<td align="left">BOROUGH</td>
<td align="left">Text</td>
</tr>
<tr class="odd">
<td align="left">SIZE(ACRES)</td>
<td align="left">Number</td>
</tr>
<tr class="even">
<td align="left">CATEGORY</td>
<td align="left">Text</td>
</tr>
<tr class="odd">
<td align="left">MURDER</td>
<td align="left">Number</td>
</tr>
<tr class="even">
<td align="left">RAPE</td>
<td align="left">Number</td>
</tr>
<tr class="odd">
<td align="left">ROBBERY</td>
<td align="left">Number</td>
</tr>
<tr class="even">
<td align="left">FELONY ASSAULT</td>
<td align="left">Number</td>
</tr>
<tr class="odd">
<td align="left">BURGLARY</td>
<td align="left">Number</td>
</tr>
<tr class="even">
<td align="left">GRAND LARCENY</td>
<td align="left">Number</td>
</tr>
<tr class="odd">
<td align="left">GRAND LARCENY OF MOTOR VEHICLE</td>
<td align="left">Number</td>
</tr>
<tr class="even">
<td align="left">TOTAL</td>
<td align="left">Number</td>
</tr>
<tr class="odd">
<td align="left">QUARTER</td>
<td align="left">Text</td>
</tr>
</tbody>
</table>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-transformation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/leoDYL/NYCEvents/edit/main/02-data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/leoDYL/NYCEvents/blob/main/02-data.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
